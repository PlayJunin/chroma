<!-- Augmented Reality on the Web in 10 lines of html! https://github.com/jeromeetienne/ar.js --> 
<!-- Reemplazamos las scripts online con versiones copiadas a mi repositorio
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
-->
<script src="js/aframe.min.js"></script>
<!-- aframe-keyboard-controls.js Permite todas las accion utilizando el Teclado --> 
<script src="js/aframe-ar.js"></script>
<script src="js/aframe-extras.loaders.min.js"></script>
<script src="js/aframe-chromakey-material.min.js"></script>

<div style='position: fixed; top: 10px; width:100%; text-align: center; z-index: 1;'>
		<button>
     Habilitar Sonido
    </button>
	</div>

<meta name="apple-mobile-web-app-capable" content="yes">

<body style='margin : 0px; overflow: hidden;'>

    <a-scene embedded arjs="debugUIEnabled: false; patternRatio: 0.90" vr-mode-ui="enabled: false">   

    <!--<a-marker preset="hiro"> cambiamos el marker original por uno propio en la siguiente linea
<a-marker preset='custom' type='pattern' url='pplay.patt'></a-marker>   lo encontro, pero no lnza el video... sale found	    
Probemos con otro custom marker el 5
<a-marker preset='custom' type='pattern' url='p-play.patt'> ojo, confunde estos markers!!
-->
<!--<a-marker preset='custom' type='pattern' url='p-play.patt'>-->
<a-marker preset='custom' type='pattern' url='playpatt.patt'>
	    
    <video style="opacity: 0;" id="mivideo" crossOrigin="anonymous" playsinline webkitplaysinline autoplay loop controls muted src="mbe.mp4"></video>
    <a-video material="shader: chromakey; src: #mivideo; color: 0.1 0.9 0.2" src="#mivideo" position="0 0 0" scale="3 3 3" rotation="270 0 0" ></a-video>
   
	
        <!-- <video style="opacity: 1;" id="greenscreenvideo" src="mbe.mp4" loop autoplay muted></video> donador de lineas -->

	<!--
      <a-plane 
        material="shader: chromakey; src: #greenscreenvideo; color: 0.1 0.9 0.2" 
        position="0 1 -10" 
        scale="15 25 15"
      ></a-plane>
	-->
	
	
   <script> 
      var m = document.querySelector("a-marker")
      m.addEventListener("markerFound", (e)=>{
      console.log("found")
      var v = document.querySelector('#mivideo').play();
})
      m.addEventListener("markerLost", (e)=>{
      console.log("lost")
      var v = document.querySelector('#mivideo').pause();
  
})


document.querySelector("button").addEventListener("click", (e)=>{
	console.log("Activar Sonido")
  var v = document.querySelector('#mivideo').muted=false;
})
     </script>
     
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
</body>





